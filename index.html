<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registro de Pago</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="alma.png" type="image/png">
</head>
<body>
  <h1>Reporte de Pagos de Trabajadores por Locación</h1>

  <div id="accionesTabla">
    <button onclick="mostrarFormulario()">Nuevo</button>
    <button onclick="exportarXLS()">Exportar</button>
  </div>

  <table id="tablaRegistros">
    <thead>
      <tr>
        <th>Apellidos</th>
        <th>Nombres</th>
        <th>DNI</th>
        <th>Fecha de ingreso</th>
        <th>Remuneración (S/)</th>
        <th>Puesto</th>
        <th>Pago Quincenal</th>
        <th>Pago Mensual</th>
        <th>Cese</th>
        <th>Empresa</th>
        <th>Editar</th>
    </thead>
    <tbody>
      <tr id="mensajeVacio">
        <td colspan="8" style="text-align:center; font-style: italic;">
          Aún no has llenado la tabla. Presiona "Nuevo" para agregar los datos.
        </td>
      </tr>
    </tbody>
    
  </table>

  <div id="formularioCese" style="display: none; margin: 20px 0;">
    <label for="fechaCese">Selecciona la fecha de cese:</label>
    <input type="date" id="fechaCese">
    <button onclick="confirmarCese()">Confirmar</button>
    <button onclick="cancelarCese()">Cancelar</button>
  </div>

  <section id="paginaEditar" class="hidden">
  <h2>Editar Datos del Trabajador</h2>
  <label>Empresa: <input type="text" id="editEmpresa" /></label>
  <label>Apellidos: <input type="text" id="editApellidos"></label>
  <label>Nombres: <input type="text" id="editNombres"></label>
  <label>DNI: <input type="text" id="editDni" maxlength="8"></label>
  <label>Fecha de ingreso: <input type="date" id="editFechaIngreso"></label>
  <label>Remuneración (S/): <input type="number" id="editRemuneracion"></label>
  <label>Puesto de trabajo: <input type="text" id="editPuesto"></label>

  <div class="botones-formulario">
    <button onclick="actualizarRegistro()">Actualizar</button>
    <button onclick="cancelarEdicion()">Cancelar</button>
  </div>
</section>

  <section id="pagina1" class="hidden">
    <h2>Ingreso de datos</h2>
    <label>Empresa: <input type="text" id="empresa" /></label>
    <label>Apellidos: <input type="text" id="apellidos"></label>
    <label>Nombres: <input type="text" id="nombres"></label>
    <label>DNI: <input type="text" id="dni" maxlength="8"></label>
    <label>Fecha de ingreso: <input type="date" id="fechaIngreso"></label>
    <label>Remuneración (S/): <input type="number" id="remuneracion"></label>
    <label>Puesto de trabajo: <input type="text" id="puesto"></label>
    <div class="botones-formulario">
      <button onclick="guardarRegistro()">Guardar</button>
      <button onclick="cancelarFormulario()">Cancelar</button>
    </div>
  </section>

  <section id="pagoQuincena" class="hidden">
  <h2>PAGO DE QUINCENA</h2>
  <div class="input-grupo">
    <label for="fechaQuincena">Fecha de pago:</label>
    <input type="date" id="fechaQuincena">
  </div>
  <div class="input-grupo">
    <label for="quincenaDiasInasistencia">Días de inasistencia:</label>
    <input type="number" id="quincenaDiasInasistencia" min="0" step="1">
  </div>
  <div class="input-grupo">
    <label for="adelantoQuincena">Adelantos (S/):</label>
    <input type="number" id="adelantoQuincena" min="0" step="0.01">
</div>
  <div class="botones-formulario">
    <button onclick="calcularQuincena()">Calcular Quincena</button>
    <button onclick="cancelarFormularioPago()">Cancelar</button>
  </div>
  <p id="resultadoQuincena"></p>
</section>

<section id="pagoMensual" class="hidden">
  <h2>PAGO MENSUAL</h2>
  <label>Adelanto quincena (S/): <input type="number" id="adelanto"></label>
  <label>Bono/Reintegro (S/): <input type="number" id="bono"></label>
  <label>Días de inasistencia: <input type="number" id="diasInasistencia"></label>
  <label>Inasistencia por horas:</label>
  <div style="display: flex; gap: 10px; margin-bottom: 10px;">
    <input type="number" id="horas" min="0" placeholder="Horas" style="width: 80px;">
    <input type="number" id="minutos" min="0" max="59" placeholder="Minutos" style="width: 80px;">
  </div>
  <label>Otros descuentos (S/): <input type="number" id="otrosDescuentos"></label>
  <div class="botones-formulario">
    <button onclick="calcularMensual()">Calcular Mensual</button>
    <button onclick="cancelarFormularioPago()">Cancelar</button>
  </div>
  <p id="resultadoMensual"></p>
</section>

  <script src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
